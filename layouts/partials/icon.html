{{- $name := .name -}}
{{- $title := .title -}}
{{- $icon := index site.Data.icons $name -}}
{{- $attributes := default nil -}}
{{- $attributes = cond (not .attributes) "" .attributes -}}

{{- if not $icon -}}
{{ errorf "icon %q not found" $name }}
{{- end -}}

{{- $icon = replaceRE "<svg" (printf "<svg height=1em %s" $attributes) $icon -}}

<span class="hx-inline-block hx-align-text-bottom icon cursor-help" title="{{- $title -}}">
  {{- $icon | safeHTML -}}
</span>